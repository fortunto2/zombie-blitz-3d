---
description: 
globs: 
alwaysApply: false
---
# Управление игроком

Система управления игроком реализована в [src/components/Player.tsx](mdc:src/components/Player.tsx).

## Управление

- **W** - движение назад
- **S** - движение вперед
- **A** - движение влево
- **D** - движение вправо
- **Мышь** - поворот камеры (взгляда)
- **Левая кнопка мыши** - стрельба

## Основные компоненты

1. **Система обработки ввода**: отслеживание нажатых клавиш и событий мыши
2. **Raycasting**: используется для определения попаданий при стрельбе
3. **Collision detection**: ограничение перемещения игрока в пределах арены

## Интеграция с Three.js

Для перемещения игрока используется комбинация:
- `PointerLockControls` из библиотеки drei для управления камерой
- Векторные операции Three.js для расчета перемещения
- Обновление камеры и позиции игрока в каждом кадре через хук `useFrame`
